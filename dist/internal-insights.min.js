import{ApplicationInsights}from"@microsoft/applicationinsights-web";const config={instrumentationKey:"",loggingLevelTelemetry:2,enableAutoRouteTracking:!0,enableAjaxErrorStatusText:!0,enableAjaxPerfTracking:!0,enableUnhandledPromiseRejectionTracking:!0},appInsights=new ApplicationInsights({config:config});export const initAppInsights=(a,b)=>{appInsights.config.instrumentationKey=b,appInsights.loadAppInsights(),appInsights.trackPageView(),a.prototype.$appInsights=appInsights,a.config.errorHandler=(a,b,c)=>{appInsights.trackEvent({name:"Client Side error.",properties:{error:JSON.stringify(a,null,2),vue:JSON.stringify(b,null,2),source:JSON.stringify(c,null,2)}})},window.onerror=(a,b,c,d,e)=>{appInsights.trackEvent({name:"Client Side error, Window handler.",properties:{error:JSON.stringify(e,null,2),msg:JSON.stringify(a,null,2),url:JSON.stringify(b,null,2),line:JSON.stringify(c,null,2),col:JSON.stringify(d,null,2)}})}};export const userLogin=a=>{appInsights.setAuthenticatedUserContext(a)};
